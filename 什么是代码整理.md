## [什么是代码整理?](https://www.jdon.com/49996)

   * 名称

      随着时间的推移, 名称和意义可能会分开, 团队使用的词汇不断发展，昨天的话可能不是今天的话

   * 条件语句

  错误用法:
  ```
    if (condition) {
      ... 很多行 ...
    } else {
      ... 一行 ...
    }
    整理成:
    if (!condition) {
      ... 一行 ...
    } else {
      ... 很多行 ...
    }
  ```
  条件的意思是：“这里有两种可能的计算路径。”然而，有时程序员想说，“这是一个先决条件。如果不满足，则此计算无效/无必要。“例如，如果缓存了值，则无需计算值。
  ```
    if (cache) {
      return cache;
    } else {
      ...计算缓存的值...
      return cache;
    }
    整理成:
    if (cache) return cache
    ... 计算缓存值 ...
  ```

  * 冗余

    随着代码的发展，本地优化的编程决策可能会留下混乱，这里就有余地实现更短、更清晰的替换。通过一次修复这些斑点来整理，将“if（flag == true）”替换为“if（flag）”（假设您的编程语言支持此项）；将“collection.size == 0”替换为“collection.isEmpty”。

    这种整理的想法是找到一种表达计算的主导统一方式，这样能更短，更清晰地表达，而且在各方面都更好。

    一个更极端的例子是当使用异常处理时，函数的返回值还能正常使用，不要使用比必要的更大的棍子。

  * 萃取Extraction

  ```
    return new Point(...长表达式来计算x ...，...长表达式来计算y，y与x有很多不同地方...)

    整理为:

    x:=计算x的表达式;
    y:=计算y的表达式;
    return new Point(x, y);
  ```

  * 重新排序

    最后的整理是按照读者想要的顺序对文件中的元素进行排序。取决于你的代码阅读者，可能会先将所有帮助程序放在最后；然后将主逻辑流程放在最后；或者可能先拥有主流程，然后再执行帮助程序等。
  ```
  input () {
    ... stuff ...
  }

  process () {
    ... stuff ...
  }

  output () {
    ... stuff ...
  }

  main () {
    input ()
    process ()
    output ()
  }
  ```