## [快看！原来重构如此简单](https://mp.weixin.qq.com/s/R4Y1qtpRwuxI2_z2VSe9Gg)
  #### 怎么重构
  * 逻辑重复

    如果有两个及两个以上的重复逻辑, 就应该考虑将其合并

  * 长函数

    将长函数分解为若干个小函数, 搭配上易理解的函数名, 便可以像自然语言一样理解代码

  * 参数过多

    把所有要用到的变量当做函数的参数, 这样会加剧代码的理解难度, 拓展困难, 当需要更多数据事, 不得不修改所有函数的参数。如果把对象作为参数, 需要用到的数据都放进对象里, 就可以有效解决参数过长问题。

  * 函数出轨

    如果发现一个函数频繁的调用一个类, 说明这个函数可能属于这个类或子类, 可以尝试把函数归并到相应类中。

  * 变化扩散

    如果新加入一个业务类型时, 需要改动很多地方才能实现, 这就意味着改动空间, 可以将因其变化的原因抽出来作为配置, 并将变化的函数放置到一个类中, 这样不仅可以做到修改一处就应对变化, 还可以清晰的知道哪些函数会受到影响。

  * 工具小助手

    将频繁出现的小功能函数, 封装为工具类。

  * 意淫的功能

    有些逻辑以为将来会有一些变化, 于是安插了很多钩子函数应对非必要的特殊情况, 这样往往会提升系统的复杂度和理解成本, 如果安插的钩子都能被用到且有价值, 那么就使用，否则还要不要放在代码里阻碍视线了

  * switch过多

    多类型时采用switch, 如果很多地方都用到这个switch, 那么就可以考虑将这个switch封装为独立的函数, 将这些函数组成基类, case语句调用子类对应的函数, 具体实现让子类去完成, 这样类型添加和变更只需要修改一个类即可

  * 多余的类

    创建的每一个类, 对于其他人来讲都是有理解成本的, 如果曾经为了某个变化而添加的类, 在实际场景中并没有发生变化，那么就把这个类去掉吧，我们需要的是真正有价值的、理解成本低的系统

  * 让人犯晕的变量

    一些类会设置一些为特殊情况设置的变量，这些变量不一定都会被使用，但理解起来难度颇大，不如把这些变量和相关函数单独放在一个类中，屏蔽具体细节，需要的功能通过函数来表达，会使功能扩展更加高效。

  * 幽灵类和雷同类

    幽灵类, 这些类没有做什么实际的工作，只是负责调用其他的类，不影响整体架构条件下，可以去掉。

    雷同类，两个类其中某几个函数作用相同，名称不同，那就可以通过修改名称或者移植函数的方式将两个相似的类保持移植，抽象出基类，方便扩展。

  * 过多的注释

    当你感觉需要为某段代码写上注释时， 意味着你认为这段代码不容易被其他人理解， 也侧面证明这就是重构的预警信息，所以当想要写注释时，就先重构，争取让注释都变得多余

**END**
